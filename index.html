<head>
	<title>CuÃ¡ndo se libera Andy???</title>
</head>

<body>
	<p id="date"></p>
	<p id="andy"></p>
	<script type="text/javascript">
		function until(d, h) {
			const then = new Date();
			then.setDate(then.getDate() + d - 1);
			then.setUTCHours(h);
			then.setMinutes(0);
			then.setSeconds(0);
			const untilDate = (then - new Date()) / 1000;
			const days = untilDate / 60 / 60 / 24 | 0;
			const hours = untilDate / 60 / 60 % 24 | 0;
			const minutes = untilDate / 60 % 60 | 0;
			const seconds = untilDate % 60 | 0;
			return [days, hours, minutes, seconds].map(print).join(':');
		}
		function print(n) {
			return n < 10 ? '0' + n : n;
		}
		function update() {
			const today = new Date();
			const date = document.getElementById('date')
			const andy = document.getElementById('andy');
			const dayOfWeek = (Math.ceil((today - new Date(today.getFullYear(), 0, 1)) / 86400000) + 2) % 8;
			const untilFreeDay = 4 - dayOfWeek;
			const untilWorkDay = 8 - dayOfWeek;
			if (untilWorkDay < 5) {
				const next = new Date();
				next.setDate(next.getDate() + untilWorkDay);
				const format = new Intl.DateTimeFormat('es-AR', { weekday: 'long' });
				andy.innerHTML = `${until(next, 15)} dÃ­as hasta que se libere Andy ðŸ˜” (el ${format.format(next)})`
				andy.className = "boo"
			} else {
				const next = new Date();
				next.setDate(next.getDate() + untilFreeDay);
				andy.innerHTML = `Hoy Andy estÃ¡ libre! ðŸ˜„<br>(${until(next, 21)} hasta que nos abandone ðŸ˜”)`
				andy.className = "yay"
			}
			const format = new Intl.DateTimeFormat('es-AR', { dateStyle: 'full' });
			date.innerHTML = `Hoy es ${format.format(today)}`;
		};
		update();
		window.setInterval(update, 1000);
	</script>
	<style type="text/css">
		body {
			margin: 0;
			padding: 1em;
			height: 100%;
			background-color: black;
			color: white;
			font-size: xxx-large;
			font-family: monospace, sans-serif;
			text-align: center;
		}

		.yay {
			color: green;
		}

		.boo {
			color: red;
		}
	</style>
</body>